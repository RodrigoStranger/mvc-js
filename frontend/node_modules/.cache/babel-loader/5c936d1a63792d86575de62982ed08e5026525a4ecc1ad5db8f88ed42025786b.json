{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{libroService}from'../services/libroService';import'../styles/pages/DetalleLibro.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DetalleLibro=()=>{const{id}=useParams();const navigate=useNavigate();const[libro,setLibro]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const cargarLibro=async()=>{try{const response=await libroService.getById(id);if(response&&response.success){setLibro(response.data);}else{setError('No se pudo cargar la información del libro');}}catch(err){console.error('Error al cargar el libro:',err);setError('Error al conectar con el servidor');}finally{setLoading(false);}};cargarLibro();},[id]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:'50vh'},children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Cargando...\"})})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:()=>navigate('/libros'),children:\"Volver a la lista\"})]});}if(!libro){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Libro no encontrado\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:()=>navigate('/libros'),children:\"Volver a la lista\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"detalle-libro\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:libro.titulo}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"por \",libro.autor||'Autor desconocido']})]}),/*#__PURE__*/_jsx(\"div\",{className:\"detalle-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row g-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-seccion\",children:[/*#__PURE__*/_jsxs(\"h5\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle\"}),\"Informaci\\xF3n del Libro\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"p\",{children:libro.titulo})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Autor\"}),/*#__PURE__*/_jsx(\"p\",{children:libro.autor||'No especificado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"G\\xE9nero\"}),/*#__PURE__*/_jsx(\"p\",{children:libro.genero||'No especificado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detalle-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Publicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{children:libro.fecha_publicacion?new Date(libro.fecha_publicacion).toLocaleDateString('es-ES',{year:'numeric',month:'long',day:'numeric'}):'No especificada'})]})]})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"detalle-footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>navigate('/libros'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-left me-2\"}),\"Volver a la lista\"]})})]})});};export default DetalleLibro;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","libroService","jsx","_jsx","jsxs","_jsxs","DetalleLibro","id","navigate","libro","setLibro","loading","setLoading","error","setError","cargarLibro","response","getById","success","data","err","console","className","style","height","children","role","onClick","titulo","autor","genero","fecha_publicacion","Date","toLocaleDateString","year","month","day"],"sources":["C:/Users/riexd/Desktop/mvc-js/frontend/src/pages/DetalleLibro.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { libroService } from '../services/libroService';\nimport '../styles/pages/DetalleLibro.css';\n\nconst DetalleLibro = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [libro, setLibro] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const cargarLibro = async () => {\n      try {\n        const response = await libroService.getById(id);\n        if (response && response.success) {\n          setLibro(response.data);\n        } else {\n          setError('No se pudo cargar la información del libro');\n        }\n      } catch (err) {\n        console.error('Error al cargar el libro:', err);\n        setError('Error al conectar con el servidor');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    cargarLibro();\n  }, [id]);\n\n  if (loading) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '50vh' }}>\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Cargando...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"alert alert-danger\" role=\"alert\">\n          {error}\n        </div>\n        <button \n          className=\"btn btn-primary mt-3\"\n          onClick={() => navigate('/libros')}\n        >\n          Volver a la lista\n        </button>\n      </div>\n    );\n  }\n\n  if (!libro) {\n    return (\n      <div className=\"container mt-5\">\n        <h2>Libro no encontrado</h2>\n        <button \n          className=\"btn btn-primary mt-3\"\n          onClick={() => navigate('/libros')}\n        >\n          Volver a la lista\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"detalle-libro\">\n      <div className=\"detalle-card\">\n        <div className=\"detalle-header\">\n          <h2>{libro.titulo}</h2>\n          <p className=\"mb-0\">por {libro.autor || 'Autor desconocido'}</p>\n        </div>\n        \n        <div className=\"detalle-body\">\n          <div className=\"row g-4\">\n            {/* Columna de detalles */}\n            <div className=\"col-md-8\">\n              <div className=\"detalle-seccion\">\n                <h5>\n                  <i className=\"bi bi-info-circle\"></i>\n                  Información del Libro\n                </h5>\n                <div className=\"detalle-info\">\n                  <div className=\"detalle-item\">\n                    <strong>Título</strong>\n                    <p>{libro.titulo}</p>\n                  </div>\n                  \n                  <div className=\"detalle-item\">\n                    <strong>Autor</strong>\n                    <p>{libro.autor || 'No especificado'}</p>\n                  </div>\n                  \n                  <div className=\"detalle-item\">\n                    <strong>Género</strong>\n                    <p>{libro.genero || 'No especificado'}</p>\n                  </div>\n                  \n                  <div className=\"detalle-item\">\n                    <strong>Publicación</strong>\n                    <p>\n                      {libro.fecha_publicacion \n                        ? new Date(libro.fecha_publicacion).toLocaleDateString('es-ES', {\n                            year: 'numeric',\n                            month: 'long',\n                            day: 'numeric'\n                          })\n                        : 'No especificada'}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"detalle-footer\">\n          <button \n            className=\"btn btn-primary\"\n            onClick={() => navigate('/libros')}\n          >\n            <i className=\"bi bi-arrow-left me-2\"></i>\n            Volver a la lista\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DetalleLibro;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,YAAY,KAAQ,0BAA0B,CACvD,MAAO,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1C,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,EAAG,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAS,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAf,YAAY,CAACgB,OAAO,CAACV,EAAE,CAAC,CAC/C,GAAIS,QAAQ,EAAIA,QAAQ,CAACE,OAAO,CAAE,CAChCR,QAAQ,CAACM,QAAQ,CAACG,IAAI,CAAC,CACzB,CAAC,IAAM,CACLL,QAAQ,CAAC,4CAA4C,CAAC,CACxD,CACF,CAAE,MAAOM,GAAG,CAAE,CACZC,OAAO,CAACR,KAAK,CAAC,2BAA2B,CAAEO,GAAG,CAAC,CAC/CN,QAAQ,CAAC,mCAAmC,CAAC,CAC/C,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,CAACR,EAAE,CAAC,CAAC,CAER,GAAII,OAAO,CAAE,CACX,mBACER,IAAA,QAAKmB,SAAS,CAAC,kDAAkD,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAO,CAAE,CAAAC,QAAA,cAC1FtB,IAAA,QAAKmB,SAAS,CAAC,6BAA6B,CAACI,IAAI,CAAC,QAAQ,CAAAD,QAAA,cACxDtB,IAAA,SAAMmB,SAAS,CAAC,iBAAiB,CAAAG,QAAA,CAAC,aAAW,CAAM,CAAC,CACjD,CAAC,CACH,CAAC,CAEV,CAEA,GAAIZ,KAAK,CAAE,CACT,mBACER,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BtB,IAAA,QAAKmB,SAAS,CAAC,oBAAoB,CAACI,IAAI,CAAC,OAAO,CAAAD,QAAA,CAC7CZ,KAAK,CACH,CAAC,cACNV,IAAA,WACEmB,SAAS,CAAC,sBAAsB,CAChCK,OAAO,CAAEA,CAAA,GAAMnB,QAAQ,CAAC,SAAS,CAAE,CAAAiB,QAAA,CACpC,mBAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,GAAI,CAAChB,KAAK,CAAE,CACV,mBACEJ,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BtB,IAAA,OAAAsB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BtB,IAAA,WACEmB,SAAS,CAAC,sBAAsB,CAChCK,OAAO,CAAEA,CAAA,GAAMnB,QAAQ,CAAC,SAAS,CAAE,CAAAiB,QAAA,CACpC,mBAED,CAAQ,CAAC,EACN,CAAC,CAEV,CAEA,mBACEtB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAG,QAAA,cAC5BpB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BpB,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,eAC7BtB,IAAA,OAAAsB,QAAA,CAAKhB,KAAK,CAACmB,MAAM,CAAK,CAAC,cACvBvB,KAAA,MAAGiB,SAAS,CAAC,MAAM,CAAAG,QAAA,EAAC,MAAI,CAAChB,KAAK,CAACoB,KAAK,EAAI,mBAAmB,EAAI,CAAC,EAC7D,CAAC,cAEN1B,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAG,QAAA,cAC3BtB,IAAA,QAAKmB,SAAS,CAAC,SAAS,CAAAG,QAAA,cAEtBtB,IAAA,QAAKmB,SAAS,CAAC,UAAU,CAAAG,QAAA,cACvBpB,KAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAG,QAAA,eAC9BpB,KAAA,OAAAoB,QAAA,eACEtB,IAAA,MAAGmB,SAAS,CAAC,mBAAmB,CAAI,CAAC,2BAEvC,EAAI,CAAC,cACLjB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BpB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BtB,IAAA,WAAAsB,QAAA,CAAQ,WAAM,CAAQ,CAAC,cACvBtB,IAAA,MAAAsB,QAAA,CAAIhB,KAAK,CAACmB,MAAM,CAAI,CAAC,EAClB,CAAC,cAENvB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BtB,IAAA,WAAAsB,QAAA,CAAQ,OAAK,CAAQ,CAAC,cACtBtB,IAAA,MAAAsB,QAAA,CAAIhB,KAAK,CAACoB,KAAK,EAAI,iBAAiB,CAAI,CAAC,EACtC,CAAC,cAENxB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BtB,IAAA,WAAAsB,QAAA,CAAQ,WAAM,CAAQ,CAAC,cACvBtB,IAAA,MAAAsB,QAAA,CAAIhB,KAAK,CAACqB,MAAM,EAAI,iBAAiB,CAAI,CAAC,EACvC,CAAC,cAENzB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC3BtB,IAAA,WAAAsB,QAAA,CAAQ,gBAAW,CAAQ,CAAC,cAC5BtB,IAAA,MAAAsB,QAAA,CACGhB,KAAK,CAACsB,iBAAiB,CACpB,GAAI,CAAAC,IAAI,CAACvB,KAAK,CAACsB,iBAAiB,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CAC5DC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,GAAG,CAAE,SACP,CAAC,CAAC,CACF,iBAAiB,CACpB,CAAC,EACD,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,cAENjC,IAAA,QAAKmB,SAAS,CAAC,gBAAgB,CAAAG,QAAA,cAC7BpB,KAAA,WACEiB,SAAS,CAAC,iBAAiB,CAC3BK,OAAO,CAAEA,CAAA,GAAMnB,QAAQ,CAAC,SAAS,CAAE,CAAAiB,QAAA,eAEnCtB,IAAA,MAAGmB,SAAS,CAAC,uBAAuB,CAAI,CAAC,oBAE3C,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}